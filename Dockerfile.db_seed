FROM golang:1.21-alpine AS base

WORKDIR /mint/

FROM base AS modules

COPY go.mod go.sum ./
RUN go mod download

FROM modules AS build

COPY cmd ./cmd
COPY pkg ./pkg

ENTRYPOINT ["go", "run", "cmd/devdata/main.go"]
